<p class="documentation-title">LfRepositoryBrowser</p>
<p class="documentation-text code-container">
  <label>Web Element</label>
  <br />
  <code>
    <span class="code-html-tagname">&lt;lf-repository-browser&gt;&lt;/lf-repository-browser&gt;</span>
  </code>
</p>
<p class="documentation-text code-container">
  <label>Angular Component</label>
  <br />
  <code>
    <span class="code-html-tagname"
      >&lt;lf-repository-browser-component&gt;&lt;/lf-repository-browser-component&gt;</span
    >
  </code>
</p>

<p class="documentation-text code-container">
  <code>
    <span class="code-html-tagname">const </span>
    <span>repoBrowser</span>
    <span> = </span>
    <span>document.querySelector('lf-repository-browser');</span>
    <p>repoBrowser.addEventListener('entrySelected', onElementNodeSelected(event));</p>
    <p>await repoBrowser.initAsync(treeProvidersObject);</p>
  </code>
</p>
<label>
  <pre>
    &lt;lf-repository-browser
      multiple="false"
      (entrySelected)="onEntrySelected($event)"
      (entryDblClicked)="onEntryOpened($event)"
      (entryFocused)="onEntryFocused($event)"
      style="height: 500px"
    &gt;&lt;/lf-repository-browser&gt;
  </pre>
</label>
<section class="column-checkbox-section">
  Columns to display:
  <mat-checkbox class="lf-checkbox checkbox-left-padding" color="primary" (change)="singleColChange()" [(ngModel)]="creation_col_single"
    >Creation Date</mat-checkbox
  >
  <mat-checkbox class="lf-checkbox checkbox-left-padding" color="primary" (change)="singleColChange()" [(ngModel)]="number_col_single"
    >Number Column</mat-checkbox
  ></section>
<app-card>
  <lf-repository-browser
    multiple="false"
    id="single-select-repo-browser"
    (entrySelected)="onEntrySelected($event)"
    (entryDblClicked)="onEntryOpened($event)"
    (entryFocused)="onEntryFocused($event)"
    style="height: 500px"
    #singleSelectRepoBrowser
  ></lf-repository-browser>
</app-card>

<label>
  <pre>
    &lt;lf-repository-browser
      multiple="true"
      (entrySelected)="onEntrySelected($event)"
      (entryDblClicked)="onEntryOpened($event)"
      (entryFocused)="onEntryFocused($event)"
      style="height: 500px"
    &gt;&lt;/lf-repository-browser&gt;
  </pre>
</label>
<input (change)="onFilterChange($event)" />
<button (click)="onRefresh()">Refresh</button>
<section class="column-checkbox-section">
  Columns to display:
  <mat-checkbox class="lf-checkbox checkbox-left-padding" color="primary" (change)="multiColChange()" [(ngModel)]="creation_col_multi"
    >Creation Date</mat-checkbox
  >
  <mat-checkbox class="lf-checkbox checkbox-left-padding" color="primary" (change)="multiColChange()" [(ngModel)]="number_col_multi"
    >Number Column</mat-checkbox
  >
</section>
<app-card>
  <lf-repository-browser
    multiple="true"
    id="repo-browser"
    [isSelectable]="selectable"
    (entrySelected)="onEntrySelected($event)"
    (entryDblClicked)="onEntryOpened($event)"
    (entryFocused)="onEntryFocused($event)"
    style="height: 500px"
    #repoBrowser
  ></lf-repository-browser>
</app-card>
<button (click)="setSelectedValue()">Set Selected Values</button>
<button (click)="toggleSelectable()">
  {{ allSelectable ? "Set Only Documents Selectable" : "Set All Entries Selectable" }}
</button>

<p class="documentation-text">lf-repository-browser entrySelected:</p>
<textarea disabled cols="80" rows="10">{{ elementSelectedEntry | json }}</textarea>

<p class="documentation-header">Overview</p>
<p class="documentation-text">Web Component to interact with data structures such as folders/files</p>
<p class="documentation-header">Use Case</p>
<p class="documentation-text">Selecting folder to save document to in Laserfiche</p>
<p class="documentation-header">HTML Element</p>
<table>
  <tr>
    <th>Attribute</th>
    <th>Value</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>multiple</td>
    <td>boolean</td>
    <td>allows multiple entries to be selected</td>
  </tr>
  <tr>
    <td>itemSize</td>
    <td>number</td>
    <td>allows user to set the itemSize for the scrollable section</td>
  </tr>
</table>
<br />
<table>
  <tr>
    <th>Event</th>
    <th>Value</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>entrySelected</td>
    <td>(event: CustomEvent&lt;LfTreeNode[] | undefined&gt;) => Promise&lt;void&gt;</td>
    <td>event raised when node(s) is selected</td>
  </tr>
  <tr>
    <td>entryFocused</td>
    <td>(event: CustomEvent&lt;LfTreeNode | undefined&gt;) => Promise&lt;void&gt;</td>
    <td>event raised when node is focused (this will display in the UI as a thick blue line surrounding the item)</td>
  </tr>
  <tr>
    <td>entryDblClicked</td>
    <td>(event: CustomEvent&lt;LfTreeNode[] | undefined&gt;) => Promise&lt;void&gt;</td>
    <td>event raised when node(s) is opened (Ex/ when double clicked)</td>
  </tr>
</table>
<br />
<table>
  <tr>
    <th>Method/Property</th>
    <th>Signature</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>initAsync</td>
    <td>(treeNodeService: LfTreeNodeService, selectedEntry?: LfTreeNode) => Promise&lt;void&gt;</td>
    <td>
      initializes the lf-repository-browser with a LfRepositoryProvider You <b>must</b> call this method. Each time this
      is called, the state of lf-repository-browser is reset. If selectedEntry is specified, the tree is directly opened
      to that node.
    </td>
  </tr>
  <tr>
    <td>setSelectedNodesAsync</td>
    <td>(nodesToSelect: LfTreeNode[], maxFetchIterations = 5: number) => Promise&lt;void&gt;</td>
    <td>
      Sets the selected nodes specified. Will call maxFetchIterations (default to 5 iterations) of data if needed.
    </td>
  </tr>
  <tr>
    <td>refreshAsync</td>
    <td>() => Promise&lt;void&gt;</td>
    <td>Refreshes the current folder. Calls for all of the data again.</td>
  </tr>
  <tr>
    <td>openSelectedNodesAsync</td>
    <td>() => Promise&lt;void&gt;</td>
    <td>
      Opens the selected nodes. If one container is selected it will open that folder in the UI, if multiple items or an
      item that is not a container is selected, then this function will just emit the entryOpened event with the
      selected nodes.
    </td>
  </tr>
  <tr>
    <td>openFocusedNodeAsync</td>
    <td>() => Promise&lt;void&gt;</td>
    <td>
      Opens the focused node (the one with a thick blue line around it in the UI). If a container is focused it will
      open that folder in the UI, if an item that is not a container is selected, then this function will just emit the
      entryOpened event with the focused node. Note: Be sure to call this when the focus is still on the item. This may
      require adding preventDefault on a click event to stop the item from losing focus
    </td>
  </tr>
  <tr>
    <td>focus</td>
    <td>() => void</td>
    <td>focuses the first item in the lf-repository-browser</td>
  </tr>
  <tr>
    <td>isSelectable</td>
    <td>(treeNode: LfTreeNode) => Promise&lt;boolean&gt;</td>
    <td>
      Lambda function that can be used to specify if specific tree nodes are selectable. This is called whenever new
      data is added.
    </td>
  </tr>
  <tr>
    <td>breadcrumbs</td>
    <td>LfTreeNode[] | undefined</td>
    <td>read-only property that contains the breadcrumbs of the currently opened folder</td>
  </tr>
  <tr>
    <td>currentFolder</td>
    <td>LfTreeNode | undefined</td>
    <td>read-only property that allows the user to see what the currently open LfTreeNode is</td>
  </tr>
</table>

<p class="documentation-sub-header">LfTreeNodeService Interface</p>
<ul>
  <li>getRootTreeNodeAsync() : Promise&lt;LfTreeNode&gt;</li>
  <li>
    getFolderChildrenAsync(folder: LfTreeNode, nextPage: string | undefined): Promise&lt;LfTreeNodePage&gt;
    <ul>
      <li>The LfTreeNodePage that this returns represents one page of data, not the cumulative data</li>
    </ul>
  </li>
  <li>
    getParentTreeNodeAsync(node: LfTreeNode): Promise&lt;LfTreeNode | undefined&gt;
    <ul>
      <li>
        If an entry does not have a parent (i.e. a root node), then we expect getParentTreeNodeAsync will return
        Promise&lt;undefined&gt;
      </li>
    </ul>
  </li>
</ul>
<p class="documentation-sub-header">LfTreeNodePage Interface</p>
<ul>
  <li>page: LfTreeNode[]</li>
  <li>nextPage: string | undefined</li>
</ul>
<p class="documentation-sub-header">LfTreeNode Interface</p>
<ul>
  <li>id : string</li>
  <li>icon : string | string[]</li>
  <li>isContainer : boolean</li>
  <li>isLeaf : boolean</li>
  <li>name : string</li>
  <li>path : string</li>
</ul>
