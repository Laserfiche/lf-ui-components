<div class="lf-header">
  <lf-breadcrumbs-component [breadcrumbs]="breadcrumbs" (breadcrumbSelected)="onBreadcrumbSelected($event)">
  </lf-breadcrumbs-component>
  <!-- <lf-toolbar-component [dropdown_options]="toolbarOptions" (optionSelected)="onToolbarOptionSelectedAsync($event)">
        </lf-toolbar-component> -->
</div>
<div class="lf-repo-entry-container">
    <lf-loader-component *ngIf="isLoading" class="no-entries-text"></lf-loader-component>
    <ng-container *ngIf="!isLoading">
        <div id="message-display" *ngIf="shouldShowErrorMessage || shouldShowEmptyMessage || shouldShowNoMatchesMessage; else showList">
            <div *ngIf="shouldShowErrorMessage" class="error-entries-text">{{ AN_ERROR_OCCURED | async }}</div>
            <div *ngIf="shouldShowEmptyMessage" class="no-entries-text">{{ THIS_FOLDER_IS_EMPTY | async }}</div>
            <div *ngIf="shouldShowNoMatchesMessage" class="no-entries-text">{{ NO_MATCHING_ENTRIES_FOUND | async }}</div>
        </div>
        <ng-template #showList>
            <mat-selection-list id="lf-repo-select-list"
                *ngIf="currentFolderChildren"
                #displayedEntryList
                [multiple]="multiple"
                [disableRipple]="true"
                >
                <cdk-virtual-scroll-viewport id="lf-repo-browser-viewport" itemSize="36"
                    (scrolledIndexChange)="onScroll($event)" appendOnly>
                    <mat-list-option
                        *cdkVirtualFor="let displayedEntry of currentFolderChildren; let index = index;"
                        [value]="displayedEntry"
                        [ngClass]="{
                            'non-selectable-option': !displayedEntry.isSelectable,
                            'selectable-option': displayedEntry.isSelectable
                        }"
                        class="lf-entry-option"
                        checkboxPosition="before"
                        (dblclick)="openChildFolderAsync(displayedEntry)"
                        [title]="displayedEntry?.name"
                        [selected]="displayedEntry.isSelected"
                        (click)="onClickMatListOption($event, displayedEntry)"
                        (keydown.enter)="onPressEnterAsync()"
                        (focusin)="onfocus(displayedEntry)"
                        (keyup)="onPressKeyDown($event,displayedEntry)"
                        >
                            <div *ngIf="getIcons(displayedEntry).length > 0" class="fixed-size-icon-container">
                                <img *ngFor="let icon of getIcons(displayedEntry)" src="{{ icon }}" alt="" class="lf-entry-icon" />
                            </div>
                            <p matLine class="lf-entry-name">
                                <span>{{ displayedEntry?.name }}</span>
                            </p>
                    </mat-list-option>
                </cdk-virtual-scroll-viewport>
            </mat-selection-list>
        </ng-template>
    </ng-container>
</div>
